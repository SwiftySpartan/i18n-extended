!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/router"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/router","@angular/common"],t):t(e["ng-smart-tabs"]=e["ng-smart-tabs"]||{},e.ng.core,e._angular_router,e._angular_common)}(this,function(e,t,i,n){"use strict";var o=function(){function e(e,t){this.el=e,this.router=t,this.lineColor="#EF476F",this.underlineSidePadding=0,this.horizontalChangeSpeed="1",this.verticalChangeSpeed="1",this.opacityChangeSpeed="1.25",this.widthChangeSpeed="0.35"}return e.prototype.onClick=function(){this.setLine()},e.prototype.ngAfterViewInit=function(){this.el.nativeElement.style.outline="none",this.parentAttributeIdentifier=this.el.nativeElement.parentElement.attributes[0].name,this.nativeElement=this.el.nativeElement,this.activeOnUrlMatch&&(this.urlMatcher(this.router.url),this.initUrlWatcher())},e.prototype.createNewFollowLine=function(e){this.followLine=document.createElement("div"),this.followLine.style.width=e.getBoundingClientRect().right-e.getBoundingClientRect().left-this.underlineSidePadding+"px",this.followLine.style.height="1px",this.followLine.style.backgroundColor=this.lineColor,this.followLine.style.position="fixed",this.followLine.style.top=e.getBoundingClientRect().bottom+"px",this.followLine.style.left=e.getBoundingClientRect().left+this.underlineSidePadding/2+"px",this.followLine.style.zIndex="1",this.followLine.style.transition="left "+this.horizontalChangeSpeed+"s cubic-bezier(0.25, 0.1, 0.25, 1),\n                                        top "+this.verticalChangeSpeed+"s cubic-bezier(0.25, 0.1, 0.25, 1),\n                                        width "+this.widthChangeSpeed+"s cubic-bezier(0.25, 0.1, 0.25, 1),\n                                        opacity "+this.opacityChangeSpeed+"s cubic-bezier(0.25, 0.1, 0.25, 1)",this.followLine.id=this.parentAttributeIdentifier+"-follow-line",this.isFollowLineInvisible&&(this.followLine.style.opacity="0"),document.body.appendChild(this.followLine)},e.prototype.setLine=function(){return this.followLine=document.getElementById(this.parentAttributeIdentifier+"-follow-line"),this.followLine?this.updateLine(this.el.nativeElement):this.createNewFollowLine(this.el.nativeElement)},e.prototype.updateLine=function(e){var t=this;e&&(this.followLine||this.setLine(),this.followLine.style.transform="translateX(0px)",this.isFollowLineInvisible?this.followLine.style.opacity="0":this.followLine.style.opacity="1",requestAnimationFrame(function(){t.followLine.style.left=e.getBoundingClientRect().left+t.underlineSidePadding/2+"px",t.followLine.style.top=e.getBoundingClientRect().bottom+"px",t.followLine.style.width=e.getBoundingClientRect().right-e.getBoundingClientRect().left-t.underlineSidePadding+"px"}))},e.prototype.initUrlWatcher=function(){var e=this;this.router.events.subscribe(function(t){t instanceof i.NavigationEnd&&e.urlMatcher(t.urlAfterRedirects)})},e.prototype.urlMatcher=function(e){if(this.nativeElement)for(var t=this.activeOnUrlMatch.split("&&"),i=0,n=t;i<n.length;i++){var o=n[i];if((o=o.trim())===e)return this.updateLine(this.nativeElement);if("*"===o.slice(-1)&&e.includes(o.split("*")[0])||"*"===o.slice(-1)&&o.split("*")[0]===e)return this.updateLine(this.nativeElement)}},e.decorators=[{type:t.Directive,args:[{selector:"[ng-smart-tab]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:i.Router}]},e.propDecorators={isFollowLineInvisible:[{type:t.Input}],lineColor:[{type:t.Input}],activeOnUrlMatch:[{type:t.Input}],underlineSidePadding:[{type:t.Input}],horizontalChangeSpeed:[{type:t.Input}],verticalChangeSpeed:[{type:t.Input}],opacityChangeSpeed:[{type:t.Input}],widthChangeSpeed:[{type:t.Input}],onClick:[{type:t.HostListener,args:["click"]}]},e}(),l=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[o],exports:[o]}]}],e}();e.NgSmartTabsDirective=o,e.NgSmartTabsModule=l,Object.defineProperty(e,"__esModule",{value:!0})});