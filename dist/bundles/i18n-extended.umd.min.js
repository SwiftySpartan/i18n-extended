!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],t):t(e["i18n-extended"]=e["i18n-extended"]||{},e.ng.core)}(this,function(e,t){"use strict";var n=new t.InjectionToken("I18N_EXTENDED_DATA"),r=function(){function e(e){this.i18nData=e,this.language="en",this.files?this.files=[""]:this.files=this.i18nData()}return e.prototype.getTranslationFile=function(){var t=this;return this.files.filter(function(e){return e.includes('target-language="'+t.language+'"')})[0]},e.prototype.setLanguage=function(e){this.language=e},e.prototype.translateText=function(s){var u=s,e=this.getTranslationFile();return e&&(0,require("xml2js").parseString)(e,function(e,t){if(e)return console.error(e),u;var n=t.xliff.file[0].body[0]["trans-unit"],r=[];if(0===(r=n.filter(function(e){return e.source[0]===s})).length&&(r=n.filter(function(e){var t=e.source[0];return"object"==typeof t&&t._&&(t=t._),"string"==typeof t&&t.toLowerCase(),t===s.toLowerCase()})),0===r.length)for(var o=0,i=n;o<i.length;o++){var a=i[o];s.includes(a.source[0])&&(u=a.target[0]+s.split(a.source[0])[1])}r&&0<r.length&&(u=r[0].target[0])}),u},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[n]},{type:t.Optional}]}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(n,8))},token:e,providedIn:"root"}),e}(),o=function(){function e(e,t){this.el=e,this.i18n=t}return e.prototype.ngOnInit=function(){var e=this.el.nativeElement;e.innerHTML=this.i18n.translateText(e.innerHTML)},e.decorators=[{type:t.Directive,args:[{selector:"[i18nExtended]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:r}]},e}(),i=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[o],exports:[o]}]}],e}(),a=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i],exports:[i]}]}],e}();e.i18nExtendedModule=a,e.I18N_EXTENDED_DATA=n,e.i18nExtended=r,Object.defineProperty(e,"__esModule",{value:!0})});